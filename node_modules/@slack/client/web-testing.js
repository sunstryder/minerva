
const { WebClient, LogLevel } = require('./dist/index');
const fs = require('fs');
const path = require('path');

const userToken = 'xoxp-241739153302-241940312871-257890848368-fe799549ac354b06be43d6a458e3492d';
const botToken = 'xoxb-258025193585-XpDalMv6UUaV7Es0tbG0UGtb';

const web = new WebClient(userToken, { logLevel: LogLevel.DEBUG });

const filePath = path.resolve('test', 'fixtures', 'train.jpg');

// file upload with a stream
// web.files.upload({
//   file: fs.createReadStream(filePath),
//   channels: 'D7LHJ36H2',
// })
//   .then(console.log)
//   .catch(console.error);

// file upload with a buffer
// web.files.upload({
//   file: fs.readFileSync(filePath),
//   // filename: 'train.jpg',
//   channels: 'D7LHJ36H2',
// })
//   .then(console.log)
//   .catch(console.error);


// user setPhoto with a stream
// web.users.setPhoto({
//   image: fs.createReadStream(filePath),
// })
//   .then(console.log)
//   .catch(console.error);


// user setPhoto with a buffer
web.users.setPhoto({
  image: fs.readFileSync(filePath),
})
  .then(console.log)
  .catch(console.error);
